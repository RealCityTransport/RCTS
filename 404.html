<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <script>
      (function () {
        // ✅ GitHub Pages 상의 리포 루트
        const repoRoot = "/RCTS";
        const p = location.pathname;

        // 채널 판별 (원하면 유지, 아니면 /RCTS/만 써도 됨)
        let base = repoRoot + "/";
        if (p.startsWith(repoRoot + "/test/")) base = repoRoot + "/test/";
        else if (p.startsWith(repoRoot + "/preview/")) base = repoRoot + "/preview/";
        else if (p.startsWith(repoRoot + "/staging/")) base = repoRoot + "/staging/";

        // base 이후 경로(+쿼리+해시)를 저장
        const restPath = p.slice(base.length - 1);
        const query = location.search || "";
        const hash = location.hash || "";
        const redirect = restPath + query + hash;

        sessionStorage.setItem("rcts:redirect", redirect);
        location.replace(base);
      })();
    </script>
  </head>
  <body></body>
</html>
